@model Postter.Application.ViewModels.RegisterViewModel
<h2>Регистрация</h2>
 
<form method="post" class="validation" asp-action="Register" asp-controller="Account" asp-anti-forgery="true">
    <div class="validation" asp-validation-summary="ModelOnly"></div>
    <div>
        <div>
            <label asp-for="Email">Введите Email</label><br />
            <input type="text" asp-for="Email"/>
            <span asp-validation-for="Email" ></span>
        </div>
        <div>
            <label asp-for="Nickname">Введите Nickname</label><br />
            <input type="text" asp-for="Nickname"/>
            <span asp-validation-for="Nickname" ></span>
        </div>
        <div>
            <label asp-for="Password">Введите пароль</label><br />
            <input id="userPassword" class="from" asp-for="Password" required pattern="[a-zA-Z0-9].+"/>
            <div class="error"></div>
            <span asp-validation-for="Password" ></span>
        </div>
        <div>
            <label asp-for="ConfirmPassword">Повторите пароль</label><br />
            <input asp-for="ConfirmPassword" />
            <span asp-validation-for="ConfirmPassword" ></span>
        </div>
        <div>
            <input type="submit" class="validateBtn"  value="Регистрация" />
        </div>
    </div>
</form>
<script>
    let form = document.querySelector('.validation')
    let validateBtn = document.querySelector('.validateBtn');
    let from = form.querySelector('.from');
    
    form.addEventListener('submit', function(event) {
      if (from.value.length < 8){
          event.preventDefault();
          let errors = form.querySelectorAll('.error');
            for (var i = 0; i < errors.length; i++) {
                errors[i].remove()
              }
          let error = document.createElement('div')
          error.className ='error'
          error.style.color = 'red'
          error.innerHTML = "Длина пароля меньше 8 символов"
          from.parentElement.insertBefore(error,  from)
      }
      else{
          event.stopPropagation()
      }
      
    })
</script>

    
